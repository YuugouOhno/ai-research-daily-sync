---
title: "ブラウザからDBに行き着くまでただまとめる"
source: "https://zenn.dev/moko_poi/articles/c2402f13a870a1"
author:
  - "[[moko_poi]]"
  - "[[Zenn]]"
published: 2024-03-31
created: 2025-07-04
description: "ブラウザからデータベースまでの情報の流れとその背後にある技術について、DNS解決、CDN、セキュリティ、負荷分散、アプリケーションサーバー、キャッシュ、データベース技術まで体系的に解説した技術記事。"
tags:
  - "selfclip"
  - "clippings"
  - "backend"
  - "database"
  - "infrastructure"
  - "web-architecture"
  - "zenn"
  - "japanese-tech"
  - "japanese-content"
  - "system-design"
  - "performance"
---

# ブラウザからDBに行き着くまでただまとめる

## 概要

現代のWebアプリケーションにおいて、ブラウザからデータベースに至るまでの情報の流れとその背後にある技術について包括的に解説。DNS解決、CDN、セキュリティ、負荷分散、アプリケーションサーバー、インメモリデータベース、データベース技術まで、大規模サービスを想定した技術スタック全体を体系的に説明している。

## 主要内容

### 1. 名前解決・DNS・CDN
- **DNS解決プロセス**: ローカルキャッシュ→ISPのDNSサーバー→ルートDNSサーバー→TLDサーバー→オーソリティDNSサーバーの段階的な名前解決
- **CDNの最適化**: 地理的に近いエッジサーバーからのコンテンツ配信、コンテンツキャッシュ、負荷分散、セキュリティ向上
- **実装例**: CNAMEレコードを使用したCDNプロバイダーへの接続

### 2. セキュアな通信
- **TLSハンドシェイク**: クライアントハロー、サーバーハロー、証明書検証、暗号化キー交換のプロセス
- **暗号化アルゴリズム**: RSA、DHE、ECDHEの比較とECDHEの優位性（前方秘匿性）
- **セッション管理**: TLSセッションとHTTPセッションの違い、再利用による効率化

### 3. セキュリティ対策
- **多層防御**: ファイアウォール、WAF、DDoS防御システムの組み合わせ
- **WAFの機能**: SQLインジェクション防御、XSS防御、異常トラフィック検出
- **配置構成**: CDN→WAF→ALB→APIサーバーの一般的な構成

### 4. 負荷分散・ロードバランサー
- **ロードバランサー種類**: ALB（第7層）、NLB（第4層）の特徴と使い分け
- **負荷分散戦略**: ラウンドロビン、最少接続数、IPハッシュの比較
- **高可用性**: ヘルスチェック、スティッキーセッション、複数AZ構成

### 5. アプリケーションサーバー・APIサーバー
- **処理パターン**: ステートレス（水平スケール容易）とステートフル（状態維持必要）
- **アーキテクチャ**: モノリシック、SOA、マイクロサービスの比較
- **実装考慮点**: セッション管理、トランザクション管理、セキュリティ、DB接続管理

### 6. インメモリデータベース・キャッシュ
- **MemcachedとRedisの比較**: 
  - Memcached: シンプルなkey-value、マルチスレッド対応
  - Redis: 多様なデータ型、パーシステンス、アトミック操作対応
- **キャッシュ戦略**: キャッシュアサイド、リードスルー、ライトスルー、ライトビハインドの詳細

### 7. データベース技術
- **インデックス**: 検索速度向上のメカニズムと実装例
- **レプリケーション**: マスタースレーブ構成、ピアツーピア構成の比較
- **Read/Write分離**: 読み込み専用レプリカによる負荷分散、同期方式の選択
- **シャーディング**: 垂直・水平・キーベースシャーディングの戦略
- **トランザクション**: ACID特性、デッドロック対策、スロークエリ最適化
- **AWS Aurora/DynamoDB**: マネージドサービスの活用とスケーラビリティ

## 重要なポイント

- DNS解決からデータベースまでの各層での最適化が全体パフォーマンスに影響
- セキュリティは多層防御が基本で、各層での対策が重要
- 負荷分散戦略はアプリケーションの特性に応じて選択する必要がある
- キャッシュ戦略の選択がシステム全体の性能を左右する
- データベース設計（インデックス、レプリケーション、シャーディング）が拡張性の鍵
- モダンなクラウドサービスの活用により運用負荷を軽減可能

## 所感・影響

この記事は、Webアプリケーションの全体アーキテクチャを理解するための優れた教材として機能する。特に、各技術要素が独立しているのではなく、相互に関連しながら全体のパフォーマンスを形成している点が明確に示されている。クラウドネイティブな開発環境が普及する中で、低レベルのシステム理解の重要性を説く結論も実践的である。バックエンドエンジニア、インフラエンジニア、SREにとって、基礎知識の整理と実践的な設計指針を提供する貴重な資料となっている。